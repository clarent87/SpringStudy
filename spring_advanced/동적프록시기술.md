# 동적프록시 기술

## 리플렉션

- 개요
  - pdf
    - 자바가 기본으로 제공하는 JDK 동적 프록시 기술이나 CGLIB 같은 프록시 생성 오픈소스 기술을 활용하면
    - 프록시 객체를 동적으로 만들어낼 수 있다
    - > 약간 c++ 템플릿 메타 프로그래밍 같은 느낌인건가?
  - 여기서는 JDK 동적 프록시를 이해하기 위한 최소한의 리플랙션 기술을 알아본다.
  - jdkdynamic package에 test code로 만들어서 알아봄
  - 그냥 동적으로 method 호출하는 예제임. 
  - > c++은 그냥 주소 값을 바탕으로 동적 호출이 가능하긴 하겠지..

- 의견
  - pdf에서는 람다로도 해당 예제의 공통화 가능하다고 했음
  - 내생각에는 callA, callB가 `()->String` 이니까 이부분을 functionall interface로 하고
  - method referrence로 받으면 된다는 의미가 아닐까 싶음..

- 포인트
  - @Slf4j는 class 단위로 붙여야 하나봄.
    - 즉. static inner class만들었는데 여기에도 붙여줌. outter class에 붙어 있지만.

- 중요 포인트
  - `hello.proxy.jdkdynamic.ReflectionTest$Hello` 처럼 ReflectionTest 의 내부 클래스는 $로 접근. 
    - > 이거 bytecode 정리 했을때 정보를 쫌 다시 봐야 할듯.. 
  - 클래스 정보 얻기
    - `Class.forName()` 로 얻음
  - 메소드 정보 얻기
    - `Method methodCallA = classHello.getMethod("callA");`
  - 인스턴스 메소드 호출
    - `Object result1 = methodCallA.invoke(target);`

- 중요 포인트2
  - 리플렉션 기술은 가급적 쓰지 말아야 한다
  - 컴파일 시점에는 오류를 잡을수 없기 때문
  - > 당연..


## JDK 동적 프록시 - 소개 (5)

- 개요
  - JDK 동적 프록시 소개 
  - 예시 준비

- 중요 포인트
  - JDK 동적 프록시는 인터페이스를 기반으로 프록시를 동적으로 만들어준다. 
  - 따라서 인터페이스가 필수이다
  - > 디자인 패턴에서 프록시 패턴에서 나온 거랑 같은거 아닐까?

## JDK 동적 프록시 - 예제 코드

## JDK 동적 프록시 - 적용 1

## JDK 동적 프록시 - 적용 2

## CGLIB - 소개

## CGLIB - 예제 코드

## 정리
