# 프록시 패턴과 데코레이터 패턴

## 예제 프로젝트 만들기 v1(2)

- 개요
  - 프록시 패턴 강좌에서는 예제를 아래 3개 만든다
    - v1 - 인터페이스와 구현 클래스 - 스프링 빈으로 수동 등록
    - v2 - 인터페이스 없는 구체 클래스 - 스프링 빈으로 수동 등록
    - v3 - 컴포넌트 스캔으로 스프링 빈 자동 등록
  - 각각 실무에서 빈 등록하는 패턴이고, 위 3가지 케이스 모두에 프록시를 적용할수 있는 방법을 강의한다.
  - > 형태는 controller-service-repository 로 진행함. -> 예시 보면 안다.

- 개요 2
  - 여기서는 v1을 개발

- Point
  - 인터페이스 기반 컨트롤러 개발
    - 근데 컨트롤러를 인터페이스 기반으로 만드는경우는 잘 없다.
    - 맨날 @Controller를 쓰는데 사실 class에 @RequestMapping을 달아도 스프링은 컨트롤러로 인식함
      - pdf 발췌
        - 스프링MVC는 타입에 @Controller 또는 @RequestMapping 애노테이션이있어야 스프링 컨트롤러로 인식한다.
        - > 여기서 타입은 class나 interface를 지칭한다.
  - 주의점!!
    - @RequestParam("itemId") String itemId : 인터페이스에는 @RequestParam("itemId") 의 값을생략하면
    - itemId 단어를 컴파일 이후 **자바 버전**에 따라 인식하지 못할 수 있다. 인터페이스에서는 꼭넣어주자.
    - 클래스에는 생략해도 대부분 잘 지원된다.
    - > 즉 @RequestParam("itemId")  없으면 interface에서는 request parma의 이름 인식이 잘 안되나봄..
    - > 원래 변수 명과 param 이름이 매칭되는데.. 그게 안된다는 말 같음
    - > 나 같은 경우 자바 17을 써서 별 문제 없었나봄.

- point 2
  - @Import
    - 이건 그냥 class를 빈등록 해주는 구문. 보통 config 등록에 씀

- 실험
  - interface에 @Controller 단경우 bean scan될까?
    - 안됨. 그리고 interface의 @RequestMapping은 애당초 스캔 대상이 아님
    - > 나같은 경우 impl에 Controller를 달아서 썻는데, 그냥 interface에 달아도된다.
    - > 단 이경우 impl을 수동으로 bean 등록해주던가. @Component라도 달아서 bean등록해야 할듯

- 기타
  - Requestmapping vs controller
    - <https://stackoverflow.com/questions/50074923/what-is-the-difference-between-controller-and-requestmapping-in-spring-mvc>

## 예제 프로젝트 만들기 v2 (7)

- 개요
  - 인터페이스는 없고 구체 클래스만 있는 예제
  - 예제 자체는 단순

- 포인트
  - 강좌에서는 컨트롤러에  @RequestMapping을 달았음
    - @Controller 에는 @Component가 있어서 자동 빈 등록 되므로 @RequestMapping을 이용해서 빈 스캔 안되게 하기 위함
  - `@Import({AppV1Config.class, AppV2Config.class})` 로 config 1,2 모두 bean 에 등록

## 예제 프로젝트 만들기 v3 (11)

- 개요
  - 컴포넌트 스캔으로 스프링 빈 자동 등록 예제

- 요구사항 추가
  - 원본 코드를 전혀 수정하지 않고, 로그 추적기를 적용해라.
  - 특정 메서드는 로그를 출력하지 않는 기능
    - 보안상 일부는 로그를 출력하면 안된다.
  - 다음과 같은 다양한 케이스에 적용할 수 있어야 한다.
    - v1 - 인터페이스가 있는 구현 클래스에 적용
    - v2 - 인터페이스가 없는 구체 클래스에 적용
    - v3 - 컴포넌트 스캔 대상에 기능 적용

## 요구 사항 추가 (13)

## 프록시, 프록시 패턴, 데코레이터 패턴 - 소개

## 프록시 패턴 - 예제 코드 1

## 프록시 패턴 - 예제 코드 2

## 데코레이터 패턴 - 예제 코드 1

## 데코레이터 패턴 - 예제 코드 2

## 데코레이터 패턴 - 예제 코드 3

## 프록시 패턴과 데코레이터 패턴 정리
